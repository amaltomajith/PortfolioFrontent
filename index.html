<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amal Tom | Code Craftsman & Security Enthusiast</title>
    <link rel="icon" type="image/png" href="images/logo.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<div id="header">
    <div class="container">
        <nav>
            <img src="images/logo.png" class="logo" alt="Logo">
            <ul id="sidemenu">
                <li><a href="#header">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#services">Interests</a></li>
                <li><a href="#portfolio">Work</a></li>
                <li><a href="#contact">Contact</a></li>
                <i class="fas fa-times" onclick="closemenu()"></i>
            </ul>
            <i class="fas fa-bars" onclick="openmenu()"></i>
        </nav>
        <div class="header-text">
            <p>CS Engineer & Developer</p>
            <h1>Hi, I'm <span>Amal Tom</span><br>I write code that doesn't crash... usually.</h1>
        </div>
    </div>
</div>

<!-- -----------about---------- -->
<div id="about">
    <div class="container">
        <div class="row">
            <div class="about-col-1">
                <img src="images/user.png" alt="User">
            </div>
            <div class="about-col-2">
                <h1 class="sub-title">About Me</h1>
                <p>I'm a curious and driven developer with a strong interest in cybersecurity, full-stack development, and Linux. I enjoy building smart, efficient systems—whether it's a secure authentication platform or a clean, responsive web app. I thrive on solving real-world problems through code, automating tasks, and constantly exploring new tools and technologies. My work is hands-on, purposeful, and always evolving.</p>

                <div class="tab-titles">
                    <p class="tab-links active-link" onclick="opentab('skills')">Skills</p>
                    <p class="tab-links" onclick="opentab('experience')">Experience</p>
                    <p class="tab-links" onclick="opentab('certifications')">Certifications</p>
                    <p class="tab-links" onclick="opentab('education')">Education</p>
                </div>

                <div class="tab-contents active-tab" id="skills">
                    <ul>
                        <li><span>UI/UX</span><br>Designing Web/App interfaces</li>
                        <li><span>Cybersecurity</span><br>Mitigating Cyberthreats</li>
                        <li><span>Artificial Intelligence</span><br>Handling AI/ML Models</li>
                    </ul>
                </div>

                <div class="tab-contents" id="experience">
                    <ul>
                        <li><span>2025</span><br>AI Intern at FlyingSpark, Cochin</li>
                    </ul>
                </div>

                <div class="tab-contents" id="certifications">
                    <ul>
                        <li><span>2023-2024</span><br>Cybersecurity Professional Certification - Google</li>
                        <li><span>2023</span><br>HTML, CSS, and JavaScript - Udemy</li>
                        <li><span>2024-2025</span><br>AI Fundamentals - IBM SkillsBuild</li>
                        <li><span>2024-2025</span><br>Introduction to MongoDB - MongoDB University</li>
                        <li><span>2024-2025</span><br>Programming Essentials in Python - Cisco</li>
                        <li><span>2024-2025</span><br>Learn Fundamentals of Operating Systems - Scaler</li>
                    </ul>
                </div>

                <div class="tab-contents" id="education">
                    <ul>
                        <li><span>2024-2027</span><br>BTech in IT from Christ University, Bangalore</li>
                        <li><span>2021-2022</span><br>PU from DHSE, Kerala</li>
                        <li><span>2020</span><br>High School (KBPE)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ---------services---------------- -->
<div id="services">
    <div class="container">
        <h1 class="sub-title">My Interests</h1>
        <div class="services-list">
            <div>
                <i class="fas fa-shield-alt"></i>
                <h2>Cybersecurity</h2>
                <p>Deeply fascinated by digital security, from developing SQL injection analyzers to password strength tools. I enjoy exploring vulnerabilities, implementing security measures, and staying updated with the latest cyber threats and defenses.</p>
            </div>
            <div>
                <i class="fas fa-database"></i>
                <h2>Data & AI</h2>
                <p>Passionate about working with data and AI, from building natural language processing systems like VoiceSQL to creating intelligent data management solutions. I love exploring how AI can make data more accessible and useful.</p>
            </div>
            <div>
                <i class="fas fa-project-diagram"></i>
                <h2>System Design</h2>
                <p>Enthusiastic about designing and building complex systems, from military management platforms to task scheduling applications. I enjoy creating efficient, scalable, and user-friendly solutions to real-world problems.</p>
            </div>
        </div>
    </div>
</div>

<!-- ----------portfolio------------ -->
<div id="portfolio">
    <div class="container">
        <h1 class="sub-title">My Work</h1>
        <div class="work-list">
            <div class="work">
                <img src="images/work-1.png" alt="AI Chatbot">
                <div class="layer">
                    <h3>AI Chatbot</h3>
                    <p>An intelligent conversational AI that provides personalized assistance and real-time responses. Built with advanced natural language processing capabilities to understand and engage in meaningful dialogue.</p>
                    <button class="button-86" id="chat-now-btn" role="button"><i class="fas fa-comments"></i> Chat Now</button>
                </div>
            </div>
            <div class="work">
                <img src="images/work-2.png" alt="VoiceSQL">
                <div class="layer">
                    <h3>VoiceSQL</h3>
                    <p>An innovative tool that converts natural language and voice queries into SQL code. Simply speak or type your database query in plain English, and watch it transform into precise SQL commands ready for execution.</p>
                    <button class="button-86" role="button" onclick="window.open('https://github.com/amaltomajith/VoiceSQL', '_blank')"><i class="fas fa-external-link-alt"></i> View Project</button>
                </div>
            </div>
            <div class="work">
                <img src="images/work-3.png" alt="Military Management System">
                <div class="layer">
                    <h3>Military Management System</h3>
                    <p>A comprehensive web-based application built using Flask, MongoDB, HTML, CSS, and JavaScript. Provides an intuitive interface for managing military personnel, equipment, and missions.</p>
                    <button class="button-86" role="button" onclick="window.open('https://github.com/amaltomajith/Military-Management', '_blank')"><i class="fas fa-external-link-alt"></i> View Project</button>
                </div>
            </div>
        </div>
        <div class="work-list" id="more-projects" style="display: none;">
            <div class="work">
                <img src="images/work-4.png" alt="SQL Injection Analyser">
                <div class="layer">
                    <h3>SQL Injection Analyser</h3>
                    <p>A Python-based security tool that analyzes websites for SQL Injection vulnerabilities, helping identify potential security risks in web applications.</p>
                    <button class="button-86" role="button" onclick="window.open('https://github.com/amaltomajith/SQL_Injection_analyser', '_blank')"><i class="fas fa-external-link-alt"></i> View Project</button>
                </div>
            </div>
            <div class="work">
                <img src="images/work-5.png" alt="Password Strength Analyzer">
                <div class="layer">
                    <h3>Password Strength Analyzer</h3>
                    <p>A Python program that evaluates password strength based on various security criteria, helping users create more secure passwords.</p>
                    <button class="button-86" role="button" onclick="window.open('https://github.com/amaltomajith/password-strength-analyzer', '_blank')"><i class="fas fa-external-link-alt"></i> View Project</button>
                </div>
            </div>
            <div class="work">
                <img src="images/work-6.png" alt="Routine Decider">
                <div class="layer">
                    <h3>Routine Decider</h3>
                    <p>A Java Swing-based GUI application for organizing daily tasks efficiently. Users can select predefined or custom tasks, assign priorities, and generate an optimized schedule.</p>
                    <button class="button-86" role="button" onclick="window.open('https://github.com/amaltomajith/Routine-Decider', '_blank')"><i class="fas fa-external-link-alt"></i> View Project</button>
                </div>
            </div>
        </div>
        <div class="btn-container">
            <a href="#" class="btn" onclick="toggleMoreProjects(); return false;">See more</a>
        </div>
    </div>
</div>

<!-- ----------contact------------- -->
<div id="contact">
    <div class="container">
        <div class="row">
            <div class="contact-left">
                <h1 class="sub-title">Contact Me</h1>
                <p><i class="fas fa-paper-plane"></i> work.amaltom@gmail.com</p>
                <p><i class="fas fa-phone-square-alt"></i> +91 8089446670</p>
                <div class="social-icons">
                    <a href="https://facebook.com/amaltomajith"><i class="fab fa-facebook"></i></a>
                    <a href="https://x.com/amaltomajith"><i class="fab fa-twitter-square"></i></a>
                    <a href="https://www.instagram.com/amaltomajith"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com/in/amaltomajith"><i class="fab fa-linkedin"></i></a>
                </div>
                <a href="images/myresume.pdf" download class="btn btn2">Download CV</a>
            </div>
            <div class="contact-right">
                <form name="submit-to-google-sheet">
                    <input type="text" name="Name" placeholder="Your Name" required>
                    <input type="email" name="Email" placeholder="Your Email" required>
                    <textarea name="Message" rows="6" placeholder="Your Message"></textarea>
                    <button type="submit" class="btn btn2">Submit</button>
                </form>
                <span id="msg"></span>
            </div>
        </div>
    </div>
    <div class="copyright">
        <p>Copyright © Amal Tom Ajith.</p>
    </div>
</div>

<!-- Chatbot Modal -->
<div class="chatbot-modal" style="display: none;">
    <div class="chat-container">
        <div class="chat-header">
            <h2>AI Assistant</h2>
            <button class="close-btn">&times;</button>
        </div>
        <div class="chat-messages">
            <!-- Messages will be added here dynamically -->
        </div>
        <div class="chat-input">
            <input type="text" id="user-input" placeholder="Type your message..." autocomplete="off">
            <button id="send-btn">Send</button>
        </div>
    </div>
</div>

<style>
#more-projects {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.4s ease-in-out;
    display: none;
}

#more-projects.visible {
    opacity: 1;
    transform: translateY(0);
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 40px;
}

/* Add container for button centering */
.btn-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-top: 50px;
}

.btn {
    transition: opacity 0.3s ease-in-out;
    position: relative;
    height: 45px;
    overflow: hidden;
    display: inline-block;
    padding: 10px 30px;
    min-width: 140px;
    text-align: center;
}

.btn:hover {
    opacity: 0.9;
}

.btn .text-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 200%;
    transition: transform 0.4s ease-in-out;
}

.btn .text-container.slide {
    transform: translateY(-50%);
}

.btn .text-wrapper {
    height: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 10px 30px;
}

/* Chatbot Modal Styles */
.chatbot-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.chatbot-modal.active {
    display: flex;
}

.chat-container {
    background: #262626;
    width: 90%;
    max-width: 500px;
    height: 80vh;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    transform: translateY(20px);
    opacity: 0;
    transition: transform 0.4s ease, opacity 0.4s ease;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
    z-index: 1001;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.chatbot-modal.active .chat-container {
    transform: translateY(0);
    opacity: 1;
}

/* Blur effect for background */
body.blur-background > *:not(.chatbot-modal) {
    filter: blur(5px);
    transition: filter 0.3s ease;
}

.chat-header {
    padding: 15px 20px;
    background: #363636;
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.chat-header h2 {
    color: #fff;
    font-size: 1.2rem;
    margin: 0;
}

.chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px;
    background: #262626;
}

.chat-messages::-webkit-scrollbar {
    width: 6px;
}

.chat-messages::-webkit-scrollbar-track {
    background: #363636;
}

.chat-messages::-webkit-scrollbar-thumb {
    background: #ff004f;
    border-radius: 3px;
}

.chat-input {
    padding: 15px 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    gap: 10px;
    background: #363636;
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
}

.chat-input input {
    flex-grow: 1;
    padding: 12px 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    outline: none;
    background: #262626;
    color: #fff;
    font-size: 0.95rem;
    transition: border-color 0.3s ease;
}

.chat-input input:focus {
    border-color: rgba(255, 255, 255, 0.2);
    background: #2d2d2d;
}

.chat-input input::placeholder {
    color: #888;
}

.chat-input button {
    padding: 10px 20px;
    background: #ff004f;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.chat-input button:hover {
    background: #cc0040;
    transform: translateY(-1px);
}

.close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #888;
    transition: color 0.3s ease;
    padding: 0;
    margin: 0;
    line-height: 1;
}

.close-btn:hover {
    color: #ff004f;
}

.message {
    margin-bottom: 15px;
    padding: 12px 16px;
    border-radius: 8px;
    max-width: 85%;
    word-wrap: break-word;
    font-size: 0.95rem;
    line-height: 1.4;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.message.user {
    background: #ff004f;
    color: white;
    margin-left: auto;
    border-bottom-right-radius: 2px;
}

.message.bot {
    background: #363636;
    color: #fff;
    border-bottom-left-radius: 2px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Loading animation */
.loading {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 12px 16px;
    background: #363636;
    border-radius: 8px;
    max-width: fit-content;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.loading span {
    width: 6px;
    height: 6px;
    background: #ff004f;
    border-radius: 50%;
    animation: bounce 0.5s ease-in-out infinite;
}

.loading span:nth-child(2) { animation-delay: 0.1s; }
.loading span:nth-child(3) { animation-delay: 0.2s; }

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}
</style>

<script>
    var tablinks = document.getElementsByClassName("tab-links");
    var tabcontents = document.getElementsByClassName("tab-contents");

    function opentab(tabname){
        for(var tablink of tablinks){ tablink.classList.remove("active-link"); }
        for(var tabcontent of tabcontents){ tabcontent.classList.remove("active-tab"); }
        event.currentTarget.classList.add("active-link");
        document.getElementById(tabname).classList.add("active-tab");
    }
</script>

<script>
    var sidemenu = document.getElementById("sidemenu");
    
    function openmenu() {
        sidemenu.style.right = "0";
        sidemenu.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    
    function closemenu() {
        sidemenu.style.right = "-200px";
        sidemenu.classList.remove('active');
        document.body.style.overflow = '';
    }

    // Close menu when clicking on a link
    document.querySelectorAll('#sidemenu a').forEach(link => {
        link.addEventListener('click', () => {
            closemenu();
        });
    });

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
        if (sidemenu.classList.contains('active') && 
            !e.target.closest('#sidemenu') && 
            !e.target.closest('.fas.fa-bars')) {
            closemenu();
        }
    });
</script>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyOVIo3-EhuJmKOjtFID8twxoJg3kBk7txMPa96DTt7dxb6iEAAzll3iIAT6J3iKID6JQ/exec';
    const form = document.forms['submit-to-google-sheet'];
    const msg = document.getElementById("msg");

    form.addEventListener('submit', e => {
      e.preventDefault();
      fetch(scriptURL, { method: 'POST', body: new FormData(form) })
        .then(response => {
            msg.innerHTML = "Message sent successfully";
            setTimeout(() => { msg.innerHTML = ""; }, 5000);
            form.reset();
        })
        .catch(error => console.error('Error!', error.message));
    });
</script>

<script>
    function toggleMoreProjects() {
        var moreProjects = document.getElementById("more-projects");
        var btn = document.querySelector("#portfolio .btn"); // More specific selector
        
        // Create text wrapper if it doesn't exist
        if (!btn.querySelector('.text-container')) {
            const originalText = btn.textContent.trim();
            btn.innerHTML = `
                <div class="text-container">
                    <div class="text-wrapper">See more</div>
                    <div class="text-wrapper">See less</div>
                </div>
            `;
        }

        const textContainer = btn.querySelector('.text-container');
        
        if (!moreProjects.classList.contains('visible')) {
            moreProjects.style.display = "grid";
            void moreProjects.offsetWidth;
            moreProjects.classList.add('visible');
            textContainer.classList.add('slide');
        } else {
            moreProjects.classList.remove('visible');
            textContainer.classList.remove('slide');
            setTimeout(() => {
                if (!moreProjects.classList.contains('visible')) {
                    moreProjects.style.display = "none";
                }
            }, 400);
        }
    }
</script>

<script>
// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
    const chatMessages = document.querySelector('.chat-messages');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');
    const chatNowBtn = document.getElementById('chat-now-btn');
    const closeBtn = document.querySelector('.close-btn');
    const modal = document.querySelector('.chatbot-modal');

    // Initialize chat functionality only if all elements are found
    if (chatMessages && userInput && sendBtn && chatNowBtn && closeBtn && modal) {
        chatNowBtn.addEventListener('click', function() {
            document.body.classList.add('blur-background');
            modal.style.display = 'flex';
            
            // Trigger reflow
            void modal.offsetWidth;
            
            // Add active class for animation
            modal.classList.add('active');
            
            // Add welcome message if chat is empty
            if (!chatMessages.hasChildNodes()) {
                addMessage("Hello! I'm your AI assistant. How can I help you today?", 'bot');
            }
        });

        closeBtn.addEventListener('click', function() {
            modal.classList.remove('active');
            document.body.classList.remove('blur-background');
            
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        });

        function addMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', type);
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addLoadingIndicator() {
            const loadingDiv = document.createElement('div');
            loadingDiv.classList.add('message', 'bot', 'loading');
            loadingDiv.innerHTML = '<span></span><span></span><span></span>';
            chatMessages.appendChild(loadingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return loadingDiv;
        }

        async function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            userInput.value = '';

            // Add loading indicator
            const loadingIndicator = addLoadingIndicator();

            try {
                console.log('Sending message to backend:', message);
                
                const response = await fetch('https://portfolio-backend-five-wine.vercel.app/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ message })
                });

                console.log('Response status:', response.status);
                const data = await response.json();
                console.log('Response data:', data);

                // Remove loading indicator
                loadingIndicator.remove();

                if (!response.ok) {
                    throw new Error(data.error || data.details || 'Failed to get response from the AI');
                }
                
                // Add bot response
                addMessage(data.response, 'bot');
            } catch (error) {
                console.error('Detailed error:', error);
                loadingIndicator.remove();
                addMessage(`Error: ${error.message}. Please try again.`, 'bot');
                
                // Log additional error details
                if (error.response) {
                    console.error('Response headers:', error.response.headers);
                    console.error('Response status:', error.response.status);
                    try {
                        const errorBody = await error.response.text();
                        console.error('Response body:', errorBody);
                    } catch (e) {
                        console.error('Could not read error response body');
                    }
                }
            }
        }

        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    } else {
        console.error('Some chat elements were not found in the DOM');
    }
});
</script>
</body>
</html>
